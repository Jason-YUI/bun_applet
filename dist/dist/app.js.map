{"version":3,"sources":["app.js"],"names":["config","pages","window","backgroundTextStyle","navigationBarBackgroundColor","navigationBarTitleText","navigationBarTextStyle","globalData","userInfo","use","testAsync","s","Promise","resolve","reject","setTimeout","sleep","data","console","log","cb","that","getUserInfo","success","res","app"],"mappings":";;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAmBE;;sBAAe;0BAAA;;8GAAA;;UAhBf,AAgBe;aAfN,CADA,AACA,AACL,AAEF;;6BAAQ,AACe,AACrB;sCAFM,AAEwB,AAC9B;gCAHM,AAGkB,AACxB;gCARK,AAIC,AAIkB,AAQb;AAZL,AACN;AALK,AACP;UAWF,AAIe;gBAJF,AACD,AAGG,AAEb;AANW,AACX;;UAKA,AAAK,IAFQ,AAEb,AAAS;WACV;;;;;+BAEU,AACT;WAAA,AAAK,AACN;;;;0BAEM,A,GAAG,AACR;iBAAO,AAAI,QAAQ,UAAA,AAAC,SAAD,AAAU,QAAW,AACtC;mBAAW,YAAM,AACf;kBAAA,AAAQ,AACT;AAFD,WAEG,IAFH,AAEO,AACR;AAJD,AAAO,AAKR,OALQ;;;;;;;;;;;;uBAQY,KAAA,AAAK,M,AAAL,AAAW;;mBAAxB;A,gCACN;;wBAAA,AAAQ,IAAR,AAAY;;;;;;;;;;;;;;;;;;gC,AAGF,IAAI,AACd;UAAM,OAAN,AAAa,AACb;UAAI,KAAA,AAAK,WAAT,AAAoB,UAAU,AAC5B;eAAO,KAAA,AAAK,WAAZ,AAAuB,AACxB;AACD;qBAAA,AAAK;AAAY,kCAAA,AACN,KAAK,AACZ;eAAA,AAAK,WAAL,AAAgB,WAAW,IAA3B,AAA+B,AAC/B;gBAAM,GAAG,IAAT,AAAM,AAAO,AACd;AAJH,AAAiB,AAMlB;AANkB,AACf;;;;;EA7CuB,eAAK,A","file":"app.js","sourcesContent":["\r\nimport wepy from 'wepy'\r\nimport 'wepy-async-function'\r\n\r\nexport default class extends wepy.app {\r\n  config = {\r\n    pages: [\r\n      'pages/index'\r\n    ],\r\n    window: {\r\n      backgroundTextStyle: 'light',\r\n      navigationBarBackgroundColor: '#fff',\r\n      navigationBarTitleText: 'WeChat',\r\n      navigationBarTextStyle: 'black'\r\n    }\r\n  }\r\n\r\n  globalData = {\r\n    userInfo: null\r\n  }\r\n\r\n  constructor () {\r\n    super()\r\n    this.use('requestfix')\r\n  }\r\n\r\n  onLaunch() {\r\n    this.testAsync()\r\n  }\r\n\r\n  sleep (s) {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        resolve('promise resolved')\r\n      }, s * 1000)\r\n    })\r\n  }\r\n\r\n  async testAsync () {\r\n    const data = await this.sleep(3)\r\n    console.log(data)\r\n  }\r\n\r\n  getUserInfo(cb) {\r\n    const that = this\r\n    if (this.globalData.userInfo) {\r\n      return this.globalData.userInfo\r\n    }\r\n    wepy.getUserInfo({\r\n      success (res) {\r\n        that.globalData.userInfo = res.userInfo\r\n        cb && cb(res.userInfo)\r\n      }\r\n    })\r\n  }\r\n}\r\n"]}